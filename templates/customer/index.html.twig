{% extends 'base.html.twig' %}

{% block title %}Clients{% endblock title %}

{% block stylesheet%}
    .table-responsive{
    min-height:200px;
    }
    #businessName{
    max-width:300px;
    }
{% endblock stylesheet %}

{% block content %}
    <br />
    <h1>
        Manage Clients
    </h1>
    <div class='row row-cards row-deck'>
        <div class="col-12">

            <div class='text-right'><a href='{{path('addcustomer')}}' class='btn btn-primary'>Add New Client </a></div>
            <br />

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">List of Clients</h3>
                </div>
                <div class="table-responsive">
                    <table class="table table-hover table-outline table-vcenter text-nowrap card-table">
                        <thead>
                            <tr>
                                <th class="text-center w-1">S/N</th>
                                <th>Client Id</th>
                                <th>Full Name</th>
                                <th>Business Name</th>
                                <th>Mobile No.</th>
                                <th>Email</th>
                                <th class="text-center"><i class="icon-settings"></i></th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for customer in customers %}
                                <tr>
                                    <td class="text-center">
                                        {{loop.index}}
                                    </td>
                                    <td >
                                        {{customer.generateCustomerId(customer.getCid())}}
                                    </td>
                                    <td>
                                        <div>{{customer.getFullName()}}</div>
                                        <div class="small text-muted">
                                            Registered: {{customer.getDateCreated()|date('M d, Y')}}
                                        </div>
                                    </td>
                                    <td id='businessName' class='ellipsis' title='{{customer.getBusinessName()}}'>
                                        {{customer.getBusinessName()?:'-'}}
                                    </td>
                                    <td>
                                        {{customer.getMobileNo()}}
                                    </td>
                                    <td >
                                        {{customer.getEmail()}}
                                    </td>
                                    <td>
                                        <div class="item-action dropdown">
                                            <a href="javascript:void(0)" data-toggle="dropdown" class="icon"><i class="fe fe-more-vertical"></i></a>
                                            <div class="dropdown-menu dropdown-menu-right">
                                                <a href="javascript:void(0)" class="dropdown-item"><i class="dropdown-icon fe fe-shopping-cart"></i> View Orders </a>
                                                <a href="javascript:void(0)" class="dropdown-item"><i class="dropdown-icon fa fa-money"></i> View Recent Payments </a>
                                                <a href="javascript:void(0)" class="dropdown-item"><i class="dropdown-icon fe fe-eye"></i> View Details </a>
                                                <a href="javascript:void(0)" class="dropdown-item"><i class="dropdown-icon fe fe-edit-2"></i> Edit </a>
                                                <div class="dropdown-divider"></div>
                                                <a href="javascript:void(0)" class="dropdown-item"><i class="dropdown-icon fe fe-trash"></i> Delete</a>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
